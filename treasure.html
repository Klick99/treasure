<!DOCTYPE html>
<html>
<head>
	<title>Find the buried treasure!</title>
</head>
<body>
	<h1 id="heading">Поклацай здесь.</h1>
	<img id="map" width=500 heigth=500 src="https://asset1.cxnmarksandspencer.com/is/image/mands/SD_02_T52_5696B_Y0_X_EC_0?wid=600&qlt=40&fmt=pjpeg">
	<p id="vas">Количество попыток 50</p>
	<p1 id="distance"></p1>
	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>

	<script>		 

	 var getRandomNumber = function (size) {
	 	return Math.floor(Math.random() * size);
	 };

	 var getDistance = function (event, target) {
	 	var diffX = event.offsetX - target.x;
	 	var diffY = event.offsetY - target.y;
	 	return Math.sqrt((diffX * diffX) + (diffY * diffY));
	 };

	 var getDistanceHint = function (distance) {
	 	if (distance < 20) {
	 		return "Почти!";
	 	} else if (distance < 30) {
	 		return "Еще чуть-чуть!";
	 	} else if (distance < 50) {
	 		return "Тепло";
	 	} else if (distance < 80) {
	 		return "Еще чуть ближе";
	 	} else if (distance < 160) {
	 		return "Чуть ближе";
	 	} else if (distance < 320) {
	 		return "Ну такое";
	 	} else {
	 		return "Холодно =(";
	 	}
	 };

	 
	 var width = 500;
	 var heigth = 500;
	 var clicks = 0;
	 var trys = 50;

	 var target = {
	 	x: getRandomNumber(width),
	 	y: getRandomNumber(heigth)
	 };

	 $("#map").click(function (event) {
	 	clicks++;
	 	trys--;
	 	$("#vas").text("Количество попыток " + trys);

	 	 if (trys < 0) {
	 	 	alert("Потрачено!");
	 	 }

	 	var distance = getDistance(event, target);
	 	var distanceHint = getDistanceHint(distance);
	 	$("#distance").text(distanceHint);

	 	 if (distance < 10) {
	 	alert("Моя бабушка нашла бы эту дичь за 5 попыток, а не за " + clicks + ". А у нее зрение было -5!");
	 	} 
	 });

	

	</script>
</body>
</html>